<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task ToDo- –í–∞—à–∏ –∑–∞–¥–∞—á–∏</title>
    <link rel="stylesheet" href="todo.css">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- –î–æ–±–∞–≤–∏–º Favicon (–ø—Ä–∏–º–µ—Ä) -->
    <link rel="icon" href="favicon.svg" type="image/svg+xml">
</head>
<body class="dark-theme"> <!-- –¢–µ–º–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é -->
    <div class="app-container">
        <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å (–°–∞–π–¥–±–∞—Ä) -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <span class="material-symbols-outlined logo-icon">task_alt</span>
                <h1 class="logo-text">Task ToDo</h1>
                <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã -->
                <button class="theme-toggle-btn" id="theme-toggle-btn" title="–°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É">
                    <span class="material-symbols-outlined light-icon">light_mode</span>
                    <span class="material-symbols-outlined dark-icon">dark_mode</span>
                </button>
            </div>
            <nav class="navigation">
                 <div class="nav-section-header">–°–ø–∏—Å–∫–∏</div>
                <ul class="nav-list" id="project-list">
                    <!-- –ü—Ä–æ–µ–∫—Ç—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è —Å—é–¥–∞ JS -->
                     <li class="nav-item active" data-project-id="inbox">
                         <span class="material-symbols-outlined project-icon">inbox</span>
                         <span class="project-name">–ì–ª–∞–≤–Ω—è</span>
                         <span class="task-count" data-count-for="inbox">0</span>
                     </li>
                     <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤ -->
                </ul>
                 <div class="no-projects-message hidden" id="no-projects-message">
                    <span class="material-symbols-outlined">create_new_folder</span>
                    <span>–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–π –ø–µ—Ä–≤—ã–π —Å–ø–∏—Å–æ–∫!</span>
                 </div>
            </nav>
            <!-- –ö–Ω–æ–ø–∫–∞ –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç -->
            <button class="add-project-btn" id="add-project-btn">
                <span class="material-symbols-outlined">add</span>
                <span>–ù–æ–≤—ã–π —Å–ø–∏—Å–æ–∫</span>
            </button>
            <!-- –°–∫—Ä—ã—Ç–æ–µ –ø–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ –∏–º–µ–Ω–∏ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ -->
            <div class="add-project-input-container hidden" id="add-project-input-container">
                 <input type="text" id="new-project-name" placeholder="–ò–º—è —Å–ø–∏—Å–∫–∞...">
                 <!-- –í—ã–±–æ—Ä –∏–∫–æ–Ω–∫–∏ (–ø—Ä–æ—Å—Ç–æ–π —Å–µ–ª–µ–∫—Ç) -->
                 <select id="new-project-icon" title="–í—ã–±—Ä–∞—Ç—å –∏–∫–æ–Ω–∫—É">
                     <option value="list">üìÑ</option>
                     <option value="label">üè∑Ô∏è</option>
                     <option value="folder">üìÅ</option>
                     <option value="lightbulb">üí°</option>
                     <option value="person">üë§</option>
                     <option value="work">üíº</option>
                     <option value="home">üè†</option>
                     <option value="star">‚≠ê</option>
                     <option value="flag">üö©</option>
                 </select>
                 <button id="save-project-btn" title="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"><span class="material-symbols-outlined">check</span></button>
                 <button id="cancel-project-btn" title="–û—Ç–º–µ–Ω–∞"><span class="material-symbols-outlined">close</span></button>
            </div>
        </aside>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ -->
        <main class="main-content">
            <header class="main-header">
                 <div class="header-left">
                     <h2 id="current-list-title">–ì–ª–∞–≤–Ω–∞—è</h2>
                 </div>
                <!-- –≠–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
                <div class="header-right">
                    <!-- –ü–æ–∏—Å–∫ -->
                    <div class="search-container">
                        <span class="material-symbols-outlined search-icon">search</span>
                        <input type="search" placeholder="–ü–æ–∏—Å–∫ –∑–∞–¥–∞—á..." id="search-input">
                    </div>
                    <!-- –§–∏–ª—å—Ç—Ä/–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ -->
                    <div class="view-options">
                        <label class="filter-toggle">
                            <input type="checkbox" id="filter-active-toggle">
                            <span>–¢–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ</span>
                        </label>
                        <select id="sort-options" title="–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞">
                            <option value="dateAdded">–ü–æ –¥–∞—Ç–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è</option>
                            <option value="dueDate">–ü–æ –¥–∞—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</option>
                            <option value="priority">–ü–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É</option>
                        </select>
                    </div>
                </div>
            </header>

            <div class="task-area">
                <ul class="task-list" id="task-list-container">
                     <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∑–∞–¥–∞—á -->
                     <li class="no-tasks-message">
                         <span class="material-symbols-outlined">playlist_add_check</span>
                         <span class="message-title">–í—Å—ë —á–∏—Å—Ç–æ!</span>
                         <span class="message-subtitle">–ü–æ—Ö–æ–∂–µ, –≤—Å–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã, –∏–ª–∏ –≤—ã –µ—â–µ –Ω–µ –¥–æ–±–∞–≤–∏–ª–∏ –Ω–∏ –æ–¥–Ω–æ–π.</span>
                         <button class="add-first-task-btn">
                             <span class="material-symbols-outlined">add_circle</span>
                             –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É
                         </button>
                    </li>
                </ul>

                <!-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –ø–æ–∫–∞–∑–∞ —Ñ–æ—Ä–º—ã –¥–æ–±–∞–≤–ª–µ–Ω–∏—è -->
                 <button class="show-add-task-form-btn" id="show-add-task-form-btn">
                    <span class="material-symbols-outlined">add_circle</span>
                    <span>–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É</span>
                </button>

                <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞—á–∏ -->
                <div class="task-form-modal hidden" id="task-form-modal">
                    <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–æ—Ä–º—ã –æ—Å—Ç–∞—ë—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º -->
                     <div class="task-form-content">
                        <h3 id="task-form-title">–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞</h3>
                        <input type="hidden" id="task-id-edit">

                        <input type="text" id="task-name-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)">
                        <textarea id="task-desc-input" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)"></textarea>

                        <div class="task-form-row">
                            <div class="form-field">
                                <label for="task-due-date-input">
                                    <span class="material-symbols-outlined">calendar_month</span> –î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:
                                </label>
                                <input type="date" id="task-due-date-input">
                            </div>
                            <div class="form-field">
                                <label for="task-priority-select">
                                     <span class="material-symbols-outlined">flag</span> –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
                                </label>
                                <select id="task-priority-select">
                                    <option value="4">P4 (–ù–∏–∑–∫–∏–π)</option>
                                    <option value="3">P3 (–°—Ä–µ–¥–Ω–∏–π)</option>
                                    <option value="2">P2 (–í—ã—Å–æ–∫–∏–π)</option>
                                    <option value="1">P1 (–í—ã—Å—à–∏–π)</option>
                                </select>
                            </div>
                        </div>

                         <div class="form-actions">
                             <button id="save-task-modal-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                             <button id="cancel-task-modal-btn" type="button">–û—Ç–º–µ–Ω–∞</button>
                         </div>
                         <button class="close-modal-btn" id="close-modal-btn" title="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
                    </div>
                </div>


            </div> <!-- /task-area -->
        </main>
    </div>

    <!-- –®–∞–±–ª–æ–Ω –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–∞ –∑–∞–¥–∞—á–∏ (–û–±–Ω–æ–≤–ª–µ–Ω) -->
    <template id="task-item-template">
        <li class="task-item" data-task-id="">
            <div class="task-priority-indicator"></div>
            <div class="task-content">
                <button class="complete-btn">
                    <span class="material-symbols-outlined unchecked-icon">radio_button_unchecked</span>
                    <span class="material-symbols-outlined checked-icon">check_circle</span>
                </button>
                <div class="task-details">
                    <span class="task-name"></span>
                    <p class="task-description"></p>
                    <!-- –ü–æ–¥–∑–∞–¥–∞—á–∏ -->
                    <div class="subtask-section">
                        <ul class="subtask-list">
                            <!-- –ü–æ–¥–∑–∞–¥–∞—á–∏ —Å—é–¥–∞ -->
                        </ul>
                         <!-- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∑–∞–¥–∞—á–∏ (–ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ –Ω–∞ –∑–∞–¥–∞—á–µ?) -->
                         <div class="add-subtask-inline hidden">
                             <input type="text" class="add-subtask-input" placeholder="–î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–∑–∞–¥–∞—á—É...">
                             <button class="save-subtask-btn"><span class="material-symbols-outlined">add</span></button>
                         </div>
                         <button class="toggle-add-subtask-btn" title="–î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–∑–∞–¥–∞—á—É">
                              <span class="material-symbols-outlined">add_task</span>
                         </button>
                    </div>
                    <!-- –ú–µ—Ç–∞-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–¥–∞—Ç–∞, –ø—Ä–æ–≥—Ä–µ—Å—Å) -->
                    <div class="task-meta">
                        <span class="due-date">
                            <span class="material-symbols-outlined">calendar_month</span>
                            <span class="date-text"></span>
                        </span>
                         <span class="subtask-progress">
                             <span class="material-symbols-outlined">checklist</span>
                             <span class="progress-text"></span>
                         </span>
                    </div>
                </div>
            </div>
            <div class="task-actions">
                <button class="edit-btn" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å">
                    <span class="material-symbols-outlined">edit</span>
                </button>
                <button class="delete-btn" title="–£–¥–∞–ª–∏—Ç—å">
                    <span class="material-symbols-outlined">delete</span>
                </button>
            </div>
        </li>
    </template>

    <!-- –®–∞–±–ª–æ–Ω –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–æ–¥–∑–∞–¥–∞—á–∏ (–ù–æ–≤—ã–π) -->
    <template id="subtask-item-template">
         <li class="subtask-item" data-subtask-id="">
             <button class="complete-subtask-btn">
                 <span class="material-symbols-outlined unchecked-icon">check_box_outline_blank</span>
                 <span class="material-symbols-outlined checked-icon">check_box</span>
             </button>
             <span class="subtask-name"></span>
             <button class="delete-subtask-btn" title="–£–¥–∞–ª–∏—Ç—å –ø–æ–¥–∑–∞–¥–∞—á—É">√ó</button>
         </li>
    </template>

    <!-- –®–∞–±–ª–æ–Ω –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–∞ —Å–ø–∏—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ (–û–±–Ω–æ–≤–ª–µ–Ω) -->
    <template id="project-item-template">
         <li class="nav-item" data-project-id="">
            <span class="material-symbols-outlined project-icon">list</span> <!-- –ò–∫–æ–Ω–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ -->
            <span class="project-name"></span>
            <span class="task-count">0</span>
             <button class="delete-project-btn" title="–£–¥–∞–ª–∏—Ç—å —Å–ø–∏—Å–æ–∫">√ó</button>
        </li>
    </template>

    <div class="modal-backdrop hidden" id="modal-backdrop"></div>

    <!-- –ü—Ä–æ—Å—Ç–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (–¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ —Ç.–¥.) -->
    <div class="notification-toast hidden" id="notification-toast">
        <span id="toast-message"></span>
    </div>


    <script src="todo.js"></script>
</body>
</html>